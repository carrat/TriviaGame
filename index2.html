<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Do-ya-know? - trivial matters</title>
    
    <link href="assets/css/trivia_style.css" rel="stylesheet" type="text/css"><!-- Add unique stylesheet -->
    <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css"><!-- Add Font Awesome -->
    <link href="https://fonts.googleapis.com/css?family=Arvo:400,400i,700,700i|Asap:400,400i,700,700i|Bitter:400,400i,700|Droid+Sans:400,700|Droid+Serif:400,400i,700,700i|Roboto+Slab:100,300,400,700" rel="stylesheet"><!-- Add Google Web Font -->

    <script 
    src="https://code.jquery.com/jquery-3.1.0.js"   
    integrity="sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk="   
    crossorigin="anonymous">    
    </script>

    <script>
     window.onload = function(){
        $('html').css({'background-color': '#b72a76'});
     };  

    </script>

    </head>

<body>

<div id="header">
    <div id="header-inner">
        <div id="logo"><img src="assets/images/do-ya-know-logo-color.png" width="250px"></div>
        <div id="buttons"></div>
    </div>
</div>

<div id="container">
    <div id="main-content">
        <div id="scoreboard"></div>
        <div id="main-content-inner">
        
            <div id="intro">
            <h1>Welcome to Do-ya-know!</h1>
            <h2>Letâ€™s find out how much useless information <br>
            you have stuffed in your head.
            </h2>
            <button class='start-game'>Play Game</button>
            </div>
        </div>        
    </div>
</div>

<div id="footer">
    <div id="footer-inner">
    <p>&copy; 2016  <strong><a href="https://www.linkedin.com/in/ideabrothers">Andrew Carr</a></strong> | 
    Demo project for <a href="https://www.codingbootcamputaustin.com/">The Coding Boot Camp</a>  at UT Austin Center for Professional Education
    </p>
    </div>
</div>



<script>
// If page is ready
$(document).ready(function(){

    // Set initial variables
    var categoriesChosen = []; //array to hold the three categories chosen by the user for gameplay
    var categorySelected; // Holds the category selected by user input
    var activeRound = 0; // Holds the active round during gameplay so we know what category we are in
    var activeCategory = 0; // Hold the active category for the round
    var categoryCounter = 0;
    var activeQuestion = 0;
    var gameScore = 0;
    var roundScore = 0;
    var questionPoints = 100;
    var questionTime = 20;
    var questionNumber = 0;
    var roundCorrect = 0;
    var roundIncorrect = 0;
    var gameRecord = []; // Array of objects that will include category played and round score ofr that category

    var categories = [
        {name: "Movies", // Name of category
        icon: "movies.png", // name of icon file
        active: false, // has the user chosen this category for gameplay?
        badge: false, // has the user won the badge in this category?
        color: "#98288b",
        questions: [ 

            {question: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: 'Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: 'Bob Dole',
                correct: false
                },
            answer3: {
                answer: 'Roger Staubach',
                correct: false
                },
            answer4: {
                answer: 'F. Scott Fitzgerald',
                correct: false
                }
            },
            {question: '2Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: '2Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: '2Bob Dole',
                correct: false
                },
            answer3: {
                answer: '2Roger Staubach',
                correct: false
                },
            answer4: {
                answer: '2F. Scott Fitzgerald',
                correct: false
                }
            },
            {question: '3Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: '3Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: '3Bob Dole',
                correct: false
                },
            answer3: {
                answer: '3Roger Staubach',
                correct: false
                },
            answer4: {
                answer: '3F. Scott Fitzgerald',
                correct: false
                }
            }
            ]

        },
        {name: "Sports",
        icon: "sports.png",
        active: false,
        badge: false,
        color: "#c8431e",
        questions: [ 

            {question: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: 'Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: 'Bob Dole',
                correct: false
                },
            answer3: {
                answer: 'Roger Staubach',
                correct: false
                },
            answer4: {
                answer: 'F. Scott Fitzgerald',
                correct: false
                }
            },
            {question: '2Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: '2Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: '2Bob Dole',
                correct: false
                },
            answer3: {
                answer: '2Roger Staubach',
                correct: false
                },
            answer4: {
                answer: '2F. Scott Fitzgerald',
                correct: false
                }
            },
            {question: '3Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: '3Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: '3Bob Dole',
                correct: false
                },
            answer3: {
                answer: '3Roger Staubach',
                correct: false
                },
            answer4: {
                answer: '3F. Scott Fitzgerald',
                correct: false
                }
            }
            ]

        },
        {name: "Art",
        icon: "art.png",
        active: false,
        badge: false,
        color: "#ce2630",
        questions: [ 

            {question: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: 'Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: 'Bob Dole',
                correct: false
                },
            answer3: {
                answer: 'Roger Staubach',
                correct: false
                },
            answer4: {
                answer: 'F. Scott Fitzgerald',
                correct: false
                }
            },
            {question: '2Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: '2Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: '2Bob Dole',
                correct: false
                },
            answer3: {
                answer: '2Roger Staubach',
                correct: false
                },
            answer4: {
                answer: '2F. Scott Fitzgerald',
                correct: false
                }
            },
            {question: '3Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: '3Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: '3Bob Dole',
                correct: false
                },
            answer3: {
                answer: '3Roger Staubach',
                correct: false
                },
            answer4: {
                answer: '3F. Scott Fitzgerald',
                correct: false
                }
            }
            ]

        },
        {name: "Television",
        icon: "tv.png",
        active: false,
        badge: false,
        color: "#4862d6",
        questions: [ 

            {question: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: 'Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: 'Bob Dole',
                correct: false
                },
            answer3: {
                answer: 'Roger Staubach',
                correct: false
                },
            answer4: {
                answer: 'F. Scott Fitzgerald',
                correct: false
                }
            },
            {question: '2Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: '2Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: '2Bob Dole',
                correct: false
                },
            answer3: {
                answer: '2Roger Staubach',
                correct: false
                },
            answer4: {
                answer: '2F. Scott Fitzgerald',
                correct: false
                }
            },
            {question: '3Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: '3Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: '3Bob Dole',
                correct: false
                },
            answer3: {
                answer: '3Roger Staubach',
                correct: false
                },
            answer4: {
                answer: '3F. Scott Fitzgerald',
                correct: false
                }
            }
            ]

        },
        {name: "Geography",
        icon: "geography.png",
        active: false,
        badge: false,
        color: "#f58b25",
       questions: [ 

            {question: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: 'Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: 'Bob Dole',
                correct: false
                },
            answer3: {
                answer: 'Roger Staubach',
                correct: false
                },
            answer4: {
                answer: 'F. Scott Fitzgerald',
                correct: false
                }
            },
            {question: '2Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: '2Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: '2Bob Dole',
                correct: false
                },
            answer3: {
                answer: '2Roger Staubach',
                correct: false
                },
            answer4: {
                answer: '2F. Scott Fitzgerald',
                correct: false
                }
            },
            {question: '3Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: '3Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: '3Bob Dole',
                correct: false
                },
            answer3: {
                answer: '3Roger Staubach',
                correct: false
                },
            answer4: {
                answer: '3F. Scott Fitzgerald',
                correct: false
                }
            }
            ]

        },
        {name: "Science",
        icon: "science.png",
        active: false,
        badge: false,
        color: "#428546",
        questions: [ 

            {question: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: 'Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: 'Bob Dole',
                correct: false
                },
            answer3: {
                answer: 'Roger Staubach',
                correct: false
                },
            answer4: {
                answer: 'F. Scott Fitzgerald',
                correct: false
                }
            },
            {question: '2Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: '2Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: '2Bob Dole',
                correct: false
                },
            answer3: {
                answer: '2Roger Staubach',
                correct: false
                },
            answer4: {
                answer: '2F. Scott Fitzgerald',
                correct: false
                }
            },
            {question: '3Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris tincidunt in magna nec accumsan. Proin in tristique dui, consectetur suscipit erat?',
            answer1: {
                answer: '3Teddy Roosevelt',
                correct: false
                } ,
            answer2: {
                answer: '3Bob Dole',
                correct: false
                },
            answer3: {
                answer: '3Roger Staubach',
                correct: false
                },
            answer4: {
                answer: '3F. Scott Fitzgerald',
                correct: false
                }
            }
            ]

        }
    ]

    // Event Handlers
    $('.reset-game').on('click', resetGame); // Reset Game to start over from the beginning
    $('.start-game').on('click', startGame); // Begin game by switching to categories page
    $('.category-icon').on('click', chooseCategory); // Begin game by switching to categories page


// Functions
    
    // Start Game
    function startGame() {
        $('#main-content h1').css({'margin-top': '0px'});

        $('#main-content-inner').html("<h1>Choose three categories.</h1><h2>Answer the questions in each category. Score high enough in each category to win a badge.</h2>");

        loadCategories();
    }

    // Reset Game 
    function resetGame() {
        $('html').css({'background-color': '#b72a76'}); // return color to base


    }

    // Load Categories
    function loadCategories() {

        // Loop through categories, outputting the name and icon of each as a button 
       categoriesDiv = document.createElement('div');
       $(categoriesDiv).attr('id', 'categories-holder');

        for (i=0; i < categories.length; i++) {

            newCatDiv = document.createElement('div');

                // Disable functionality if category has already been selected     
                if (categories[i].active == true) {
                    $(newCatDiv).addClass('category category-button disabled faded');
                    $(newCatDiv).attr('id', i);
                }

                else {
                    $(newCatDiv).addClass('category category-button');
                    $(newCatDiv).attr('id', i);
                }

            newCatImg = document.createElement('IMG');
            $(newCatImg).addClass('category-icon');
            $(newCatImg).attr('src', 'assets/images/icons/' + categories[i].icon);
            newCatLabel = document.createElement('H3');
            $(newCatLabel). attr('class', 'category-label');
            $(newCatLabel).text(categories[i].name);

            $(newCatDiv).append(newCatImg);
            $(newCatDiv).append(newCatLabel);

            $(categoriesDiv).append(newCatDiv);
        }

        $('#main-content-inner').append(categoriesDiv);

        $('.category').on('click', chooseCategory); // select a category

        // load select category events
    }

    // Choose Category
    function chooseCategory() {

        console.log("Choose Category");

        // if they have not yet selected three categories, select that category clicked on 
        if (categoriesChosen.length <3) {
    
            // which category did they select?
            categorySelected = $(this).attr('id');

            // If category has not been chosen yet, select it
            if ($.inArray(categorySelected, categoriesChosen) < 0) {

                $('#' + categorySelected).animate({opacity: 0.40}, "fast"); // Fade button
                categoriesChosen.push(categorySelected); // Add to chosen array

                if (categoriesChosen.length == 3) {

                     loadGameCategory();
                }
            }

            // If category has been chosen, but is selected again, unchoose it
            else {

                $('#' + categorySelected).animate({opacity: 1.0}, "fast"); // Fade button
                index = $.inArray(categorySelected, categoriesChosen);
                if (index > -1) {
                    categoriesChosen.splice(index, 1);
                }
            }
        }      
    }

    // Create and Load Top Nav Buttons
    function loadNavButtons() {
         
            startOverButton = document.createElement('button');
                $(startOverButton).attr("class", "start-over nav-button");
                $(startOverButton).text("Start Over");
            surrenderButton = document.createElement('button');
                $(surrenderButton).attr("class", "surrender-button nav-button");
                $(surrenderButton).text("Surrender");

            $('#buttons').append(startOverButton);
            $('#buttons').append(surrenderButton);
    }
    
    // Create and Load scoreboard
    function loadScoreboard() {

            $('#scoreboard').empty();
         
            pointsDiv = document.createElement('div');
            $(pointsDiv).attr("class", "points-board");
            $(pointsDiv).html("<h3 class='board-title'>Question Points</h3>");
            pointsNumber = document.createElement('h4');
            $(pointsNumber).attr("class", "board-title-2 points-countdown");
            $(pointsNumber).text(questionPoints);

            $(pointsDiv).append(pointsNumber);

            timeDiv = document.createElement('div');
            $(timeDiv).attr("class", "time-board");
            $(timeDiv).html("<h3 class='board-title'>Time Remaining</h3>");
            timeNumber = document.createElement('h4');
            $(timeNumber).attr("class", "board-title-2 timer-countdown");
            $(timeNumber).text(questionTime);

            $(timeDiv).append(timeNumber);

            scoreDiv = document.createElement('div');
            $(scoreDiv).attr("class", "game-score-board");
            $(scoreDiv).html("<h3 class='board-title'>Round Score</h3>");
            scoreNumber = document.createElement('h4');
            $(scoreNumber).attr("class", "board-title-2");
            $(scoreNumber).text(roundScore);

            $(scoreDiv).append(scoreNumber);

            categoryDiv = document.createElement('div');
            $(categoryDiv).attr("class", "category-board");
            categoryName = document.createElement('h3');
            $(categoryName).attr("class", "category-name");
            $(categoryName).text(categories[activeCategory].name);

            $(categoryDiv).append(categoryName);

            $('#scoreboard').append(pointsDiv);
            $('#scoreboard').append(timeDiv);
            $('#scoreboard').append(scoreDiv);
            $('#scoreboard').append(categoryDiv);

    }

    // Load category and start question and answer
    function loadGameCategory() {

        questionNumber = 0;

        // load the nav buttons in header
        $('#buttons').empty();
        loadNavButtons(); 

        activeCategory = categoriesChosen[categoryCounter];

            // Empty Game Board
            $('#main-content-inner').empty();
            // Change Game Board Color to match category
            $('#main-content').css({'background': categories[activeCategory].color}); // change color to match category

        loadScoreboard(); // Load the scoreboard in preparation for the round
        loadQuestion(questionNumber); // Load the first question
    }

    // Load questions
    function loadQuestion(number) {

        // Create Question and Answer Holder
            questionDiv = document.createElement('div');
            $(questionDiv).attr("class", "question-holder");
             questionText = document.createElement('div');
            $(questionText).attr("class", "question-text");
            dyk = document.createElement('span');
            $(dyk).attr("class", "dyk");
            $(dyk).text("Do-ya-know ");

            answerDiv = document.createElement('div');
            $(answerDiv).attr("class", "answer-holder");

            $('#main-content-inner').empty();

            questionCheckDiv = document.createElement('div');
            $(questionCheckDiv).attr("class", "question-check-holder");
            currentQuestion = questionNumber + 1;
            $(questionCheckDiv).html("Question " +  currentQuestion + " of " + categories[activeCategory].questions.length);
    
            $('#main-content-inner').html(questionCheckDiv);
            
            $(questionText).text(categories[activeCategory].questions[questionNumber].question);
            $(questionDiv).html(dyk);
            $(questionDiv).append(questionText);
            $('#main-content-inner').append(questionDiv);

            $('#main-content-inner').append(answerDiv);

            recordDiv = document.createElement('div');
            $(recordDiv).attr("class", "record-holder");

            recordTitleDiv = document.createElement('div');
            recordTitle = document.createElement('div');
            $(recordTitle).attr("class", "record-title");
            $(recordTitle).text("This Round");
            $(recordTitleDiv).html(recordTitle);

            $(recordDiv).html(recordTitleDiv);

            recordCorrectDiv = document.createElement('div');
            $(recordCorrectDiv).attr("class", "record-correct-holder");
            $(recordCorrectDiv).text("Correct: " +  roundCorrect);

            $(recordDiv).append(recordCorrectDiv);

            recordIncorrectDiv = document.createElement('div');
            $(recordIncorrectDiv).attr("class", "record-incorrect-holder");
            $(recordIncorrectDiv).text("Incorrect: " +  roundIncorrect);

            $(recordDiv).append(recordIncorrectDiv);

            $('#main-content-inner').append(recordDiv);

            loadAnswers(); // Load Answers
            countdownTimer(); // Start Timer countdown
            countdownPoints(); // Start Points countdown

            // Go to results screen when time runs out or they click
        
    }

    // Load Answers
    function loadAnswers() {

            var currentAnswer = categories[activeCategory].questions[questionNumber].answer1.answer;

            answerButton = document.createElement('button');
            $(answerButton).attr("class", "answer");
            $(answerButton).html(currentAnswer);
            $(answerDiv).append(answerButton);

            var currentAnswer = categories[activeCategory].questions[questionNumber].answer2.answer;

            answerButton = document.createElement('button');
            $(answerButton).attr("class", "answer");
            $(answerButton).html(currentAnswer);
            $(answerDiv).append(answerButton);

            var currentAnswer = categories[activeCategory].questions[questionNumber].answer3.answer;

            answerButton = document.createElement('button');
            $(answerButton).attr("class", "answer");
            $(answerButton).html(currentAnswer);
            $(answerDiv).append(answerButton);

            var currentAnswer = categories[activeCategory].questions[questionNumber].answer4.answer;

            answerButton = document.createElement('button');
            $(answerButton).attr("class", "answer");
            $(answerButton).html(currentAnswer);
            $(answerDiv).append(answerButton);     

            $('.answer').on("click", answerQuestion);
    }

    function answerQuestion() {

        $('#main-content-inner').html("ANSWERED");
         stopPoints();
        questionPoints = 100;

        stopTimer();
        questionTime = 20;
        questionNumber++;

        // Do we load another question, a new category, or is game over?

        if (questionNumber !== categories[activeCategory].questions.length) {
            delayTen = setTimeout(loadQuestion, 5000);
        }

        else if (questionNumber == categories[activeCategory].questions.length) {
            
                loadRoundResults();

        }
    }

    function gradeAnswer() {


        
    }

    function timeExpired() {

        $('#main-content-inner').html("TIME EXPIRED");
         stopPoints();
        questionPoints = 100;

        stopTimer();
        questionTime = 20;


        // Do we load another question, a new category, or is game over?

        if (questionNumber !== categories[activeCategory].questions.length) {
            delayTen = setTimeout(loadQuestion, 5000);
        }

        else if (questionNumber == categories[activeCategory].questions.length) {
            
                loadRoundResults();

        }
    }

    function loadRoundResults() {

        $('#main-content-inner').empty();
        $('#main-content-inner').html("ROUND RESULTS");
        $('.points-board').empty();
        $('.time-board').empty();


        categoryCounter++;

        if (categoryCounter < 3) {
            delayTen = setTimeout(loadGameCategory, 5000);
        }

        else {
            delayTen = setTimeout(loadGameResults, 5000);
        }
    }


    function loadGameResults() {
            $('#main-content-inner').empty();

            // Load the results of the game and return game board to natural state
            mainDiv = document.createElement("div");
            $(mainDiv).attr("id", "main-content-inner");
            $('#main-content').html(mainDiv);
            $('#main-content-inner').html("GAME RESULTS");
            $('#main-content').css({'background-color': '#b72a76'});
    }

    function decreaseTimer(){
        // Decrease number by one.
        questionTime--;
        // Show the number in the #show-number tag.
        $('.timer-countdown').html(questionTime);

        // Once number hits zero...
        if (questionTime === 0){
            // ...run the stop function.
            stopTimer();
            questionTime = 20;
            questionNumber++;

            if (questionNumber < categories[activeCategory].questions.length) {
            timeExpired();
            }

            else {
                categoryCounter++;
                if (categoryCounter <= 3) {
                    loadRoundResults();
                }

                else {
                    loadGameresults();
                }
            }
        }
    }

    function countdownTimer(){
        counter = setInterval(decreaseTimer, 1000);
    }

    function stopTimer(){
            // Clears our "counter" interval.
            // We just pass the name of the interval
            // to the clearInterval function.
            clearInterval(counter);
    }

    function decreasePoints(){
        // Decrease number by one.
        questionPoints--;
        // Show the number in the #show-number tag.
        $('.points-countdown').html(questionPoints);

        // Once number hits zero...
        if (questionPoints === 0){
            // ...run the stop function.
            stopPoints();
            questionPoints = 100;
        }
    }

    function countdownPoints(){
        pointsCounter = setInterval(decreasePoints, 200);
    }

    function stopPoints(){
            // Clears our "counter" interval.
            // We just pass the name of the interval
            // to the clearInterval function.
            clearInterval(pointsCounter);
    }
});

</script>



</body>
</html>




